<!doctype>
<html>
<head>
  <style>
    html, body {
      overflow: hidden;
      height: 100%;
      margin: 0;
      padding: 0;
      background: black;
      color: white;
    }
    #logs {
      height: 100%;
      overflow: auto;
    }
  </style>
</head>
<body>
  <pre id="logs">
 ____
/\  _`\
\ \ \L\ \    ___   __  __  __     __   _ __   __  __
 \ \  _ <'  / __`\/\ \/\ \/\ \  /'__`\/\`'__\/\ \/\ \
  \ \ \L\ \/\ \L\ \ \ \_/ \_/ \/\  __/\ \ \/ \ \ \_\ \
   \ \____/\ \____/\ \___x___/'\ \____\\ \_\  \/`____ \
    \/___/  \/___/  \/__//__/   \/____/ \/_/   `/___/> \
                                                  /\___/
                                                  \/__/
Logs from your application and commands you run in the exec window will appear here.


  </pre>
  <script src="/bowery/ansi_up.js"></script>
  <script>
    var appId = window.location.search.slice(7)
    var logs = document.getElementById('logs')
    var sse = new EventSource('/_/sse')
    sse.addEventListener('message', function (e) {
      var data = JSON.parse(e.data)
      if (data.type == 'log' && appId == data.appID && data.message) {
        logs.innerHTML += ansi_up.ansi_to_html(data.message)
        logs.scrollTop = logs.scrollHeight
        logs.style.marginLeft = '0px'
        logs.style.marginLeft = '1px'
      }
    })
  </script>
</body>
</html>
