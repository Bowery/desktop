<!--
Copyright (c) 2014 Bowery, Inc. All rights reserved.
-->

<!--
`bowery-screen` is a simple push state router that will only show

<bowery-screen path="/">Show this when path is /</bowery-screen>

@group Bowery Core Elements
@element bowery-screen
-->

<link rel="import" href="../components/polymer/polymer.html">
<polymer-element name="bowery-screen" attributes="path">
<template>
  <style>
    #content {
      display: none;
      margin: 54px 0;
      overflow-x: hidden;
      overflow-y: hidden;
      padding: 0;
      height: 377px;
    }
    ::-webkit-scrollbar {
      width: 0 !important;
    }
    :host {
      height: 485px;
      overflow: hidden;
    }
  </style>
  <div id="content" path="{{path}}">
    <content></content>
  </div>
</template>
<script>
Polymer('bowery-screen', {
  created: function () {
    this.globalPath = "/"
  },
  ready: function () {
    self = this
    if (this.globalPath == this.path) {
      this.$.content.style.display = 'block'
    }

    window.addEventListener('bowery-navigate', this.navigate.bind(this))
  },
  navigate: function (e) {    
    // If you wanted to use this on the web, this line would enable push state
    // window.history.pushState(e.detail, e.detail.title, e.detail.path)
    this.globalPath = e.detail.path
    if (this.path != this.globalPath) {
      this.$.content.style.display = 'none'
      this.$.content.style.visibility = 'hidden'
    } else {
      this.$.content.style.display = 'block'
      this.$.content.style.visibility = 'visible'
    }
  }
})
</script>
</polymer-element>
