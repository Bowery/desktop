<!--
Copyright (c) 2014 Bowery, Inc. All rights reserved.
-->

<!--
`bowery-card-list` is a list of `bowery-card` elements.
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../../web-services/apps-service.html">
<link rel="import" href="bowery-card.html">

<polymer-element name="bowery-apps">
  <template>
    <link rel="stylesheet" href="../../bowery/out.css">
    <style>
      .container {
        overflow: auto;
        padding: 55px 0;
      }
      .ruled-section {
        margin-top: 18px;
        border-top: 1px solid rgb(26, 23, 24);
        background: rgb(245, 245, 245);
      }
      .field-group {
        margin: 0;
        padding: 10px 0;
      }
      input {
        width: 255px;
      }
    </style>
    <apps-service apps="{{applications}}"></apps-service>
    <div id="container" class="container">
    <template repeat="{{app in applications}}">
      <bowery-card expandable="true" data-id="{{app.id}}">
        <h4>{{app.name}}</h4>
        <span>{{app.addr}}</span>
        <div class="ruled-section">
          <div class="field-group">
            <label>Start</label>
            <input type="text" name="start" value="{{app.start}}">
          </div>
          <div class="field-group">
            <label>Build</label>
            <input type="text" name="start" value="{{app.build}}">
          </div>
          <div class="field-group">
            <label>Local Path</label>
            <input type="text" name="start" value="{{app['local-path']}}">
          </div>
          <div class="field-group">
            <label>Remote Path</label>
            <input type="text" name="start" value="{{app['remote-path']}}">
          </div>
          <div class="field-group">
            <label>AWS Key</label>
            <input type="text" name="start" value="{{app['aws-key']}}">
          </div>
          <div class="field-group">
            <label>AWS Secret</label>
            <input type="text" name="start" value="{{app['aws-secret']}}">
          </div>
          <div class="field-group">
            <label>Size</label>
            <input type="text" name="start" value="{{app['instance-size']}}">
          </div>
        </div>
      </bowery-card>
    </template>
  </div>
  </template>
  <script>
  Polymer({
    ready: function () {
      var container = this.$.container
      // document.addEventListener('bowery-card-expand', function (e) {
        // TODO (thebyrd) scroll card to top as it expands?

      //   console.log('card is', e.detail.offsetTop, 'from the top')
      //
      //   var scrollY = e.detail.offsetTop - 55
      //   console.log('set scrollY to', scrollY)
      //   window.scrollTo(0, scrollY)
      // })
    }
  })
  </script>
</polymer-element>
