<!doctype html>
<head>
<title>Logs</title>
<style>
* {
  margin: 0;
  padding: 0;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
}

body {
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  -webkit-user-select: none;
  color: white;
  background: black;
}

.container.logs {
  font: 14px Menlo, monospace;
  overflow: auto;
  height: 100%;
  width: 100%;
  position: fixed;
  top: 0;
  padding: 12px;
}
</style>
</style>
<body>
<div class="container logs"></div>
</body>
<script>
var logContainerEl = document.getElementsByClassName('logs')[0]
var appID = window.location.search.split('?app=')[1]

if (window['WebSocket']) {
  var conn = new WebSocket('ws://0.0.0.0:32055/_/ws')
  conn.onopen = function (e) {}
  conn.onclose = function (e) {}
  conn.onmessage = function (e) {
    var data = JSON.parse(e.data)
    if (appID == data.appID) {
      logContainerEl.innerHTML += '<p>' + data.message + '</p>'
      logContainerEl.scrollTop = logContainerEl.scrollHeight
    }
  }
} else {
  logContainerEl.innerHTML = 'Your browser is out of date.'
}
</script>
